{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/home/hamza-shaikh/Desktop/Projects/Augmentoria/Moralis Demo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hamza-shaikh/Desktop/Projects/Augmentoria/Moralis Demo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/hamza-shaikh/Desktop/Projects/Augmentoria/Moralis Demo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/hamza-shaikh/Desktop/Projects/Augmentoria/Moralis Demo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/hamza-shaikh/Desktop/Projects/Augmentoria/Moralis Demo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import UploadService from'../services/file-upload.service';var UploadImages=/*#__PURE__*/function(_Component){_inherits(UploadImages,_Component);var _super=_createSuper(UploadImages);function UploadImages(props){var _this;_classCallCheck(this,UploadImages);_this=_super.call(this,props);_this.selectFile=_this.selectFile.bind(_assertThisInitialized(_this));_this.upload=_this.upload.bind(_assertThisInitialized(_this));_this.state={currentFile:undefined,previewImage:undefined,progress:0,message:''};return _this;}_createClass(UploadImages,[{key:\"selectFile\",value:function selectFile(event){this.setState({currentFile:event.target.files[0],previewImage:URL.createObjectURL(event.target.files[0]),progress:0,message:''});}},{key:\"upload\",value:function upload(){var _this2=this;this.setState({progress:0});UploadService.upload(this.state.currentFile,function(event){_this2.setState({progress:Math.round(100*event.loaded/event.total)});}).then(function(response){_this2.setState({message:\"<b>Image uploded ! Please visit </b></br> <a href='\".concat(response.data.data,\"' target=\\\"_blank\\\">\").concat(response.data.data,\"</a>\")});}).catch(function(err){_this2.setState({progress:0,message:'Could not upload the image! due to '+err// currentFile: undefined,\n});});}},{key:\"render\",value:function render(){var _this$state=this.state,currentFile=_this$state.currentFile,previewImage=_this$state.previewImage,progress=_this$state.progress,message=_this$state.message;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(\"label\",{className:\"btn btn-default p-0\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:this.selectFile})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success btn-sm\",onClick:this.upload,children:\"Upload\"})})]}),currentFile&&/*#__PURE__*/_jsx(\"div\",{className:\"progress my-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar progress-bar-info progress-bar-striped\",role:\"progressbar\",\"aria-valuenow\":progress,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\",style:{width:progress+'%'},children:[progress,\"%\"]})}),previewImage&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"preview\",src:previewImage,alt:\"\"})}),message&&/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:message}})// <div className='alert alert-secondary mt-3' role='alert'>\n// \tdangerouslySetInnerHTML={{ __html: message }}\n// \t{/* {message} */}\n// </div>\n]});}}]);return UploadImages;}(Component);export{UploadImages as default};","map":{"version":3,"sources":["/home/hamza-shaikh/Desktop/Projects/Augmentoria/Moralis Demo/frontend/src/components/image-upload.component.js"],"names":["React","Component","UploadService","UploadImages","props","selectFile","bind","upload","state","currentFile","undefined","previewImage","progress","message","event","setState","target","files","URL","createObjectURL","Math","round","loaded","total","then","response","data","catch","err","width","__html"],"mappings":"ogCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,C,GAEqBC,CAAAA,Y,4GACpB,sBAAYC,KAAZ,CAAmB,8CAClB,uBAAMA,KAAN,EACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB,CACA,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYD,IAAZ,+BAAd,CAEA,MAAKE,KAAL,CAAa,CACZC,WAAW,CAAEC,SADD,CAEZC,YAAY,CAAED,SAFF,CAGZE,QAAQ,CAAE,CAHE,CAIZC,OAAO,CAAE,EAJG,CAAb,CALkB,aAWlB,C,uEAEUC,K,CAAO,CACjB,KAAKC,QAAL,CAAc,CACbN,WAAW,CAAEK,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CADA,CAEbN,YAAY,CAAEO,GAAG,CAACC,eAAJ,CAAoBL,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB,CAFD,CAGbL,QAAQ,CAAE,CAHG,CAIbC,OAAO,CAAE,EAJI,CAAd,EAMA,C,uCAEQ,iBACR,KAAKE,QAAL,CAAc,CACbH,QAAQ,CAAE,CADG,CAAd,EAIAV,aAAa,CAACK,MAAd,CAAqB,KAAKC,KAAL,CAAWC,WAAhC,CAA6C,SAACK,KAAD,CAAW,CACvD,MAAI,CAACC,QAAL,CAAc,CACbH,QAAQ,CAAEQ,IAAI,CAACC,KAAL,CAAY,IAAMP,KAAK,CAACQ,MAAb,CAAuBR,KAAK,CAACS,KAAxC,CADG,CAAd,EAGA,CAJD,EAKEC,IALF,CAKO,SAACC,QAAD,CAAc,CACnB,MAAI,CAACV,QAAL,CAAc,CACbF,OAAO,8DAAwDY,QAAQ,CAACC,IAAT,CAAcA,IAAtE,gCAA+FD,QAAQ,CAACC,IAAT,CAAcA,IAA7G,QADM,CAAd,EAGA,CATF,EAWEC,KAXF,CAWQ,SAACC,GAAD,CAAS,CACf,MAAI,CAACb,QAAL,CAAc,CACbH,QAAQ,CAAE,CADG,CAEbC,OAAO,CAAE,sCAAwCe,GACjD;AAHa,CAAd,EAKA,CAjBF,EAkBA,C,uCAEQ,iBACiD,KAAKpB,KADtD,CACAC,WADA,aACAA,WADA,CACaE,YADb,aACaA,YADb,CAC2BC,QAD3B,aAC2BA,QAD3B,CACqCC,OADrC,aACqCA,OADrC,CAGR,mBACC,oCACC,aAAK,SAAS,CAAC,KAAf,wBACC,YAAK,SAAS,CAAC,OAAf,uBACC,cAAO,SAAS,CAAC,qBAAjB,uBACC,cAAO,IAAI,CAAC,MAAZ,CAAmB,MAAM,CAAC,SAA1B,CAAoC,QAAQ,CAAE,KAAKR,UAAnD,EADD,EADD,EADD,cAOC,YAAK,SAAS,CAAC,OAAf,uBACC,eAAQ,SAAS,CAAC,wBAAlB,CAA2C,OAAO,CAAE,KAAKE,MAAzD,oBADD,EAPD,GADD,CAeEE,WAAW,eACX,YAAK,SAAS,CAAC,eAAf,uBACC,aACC,SAAS,CAAC,qDADX,CAEC,IAAI,CAAC,aAFN,CAGC,gBAAeG,QAHhB,CAIC,gBAAc,GAJf,CAKC,gBAAc,KALf,CAMC,KAAK,CAAE,CAAEiB,KAAK,CAAEjB,QAAQ,CAAG,GAApB,CANR,WAOEA,QAPF,OADD,EAhBF,CA6BED,YAAY,eACZ,kCACC,YAAK,SAAS,CAAC,SAAf,CAAyB,GAAG,CAAEA,YAA9B,CAA4C,GAAG,CAAC,EAAhD,EADD,EA9BF,CAmCEE,OAAO,eACP,YAAK,uBAAuB,CAAE,CAAEiB,MAAM,CAAEjB,OAAV,CAA9B,EACA;AACA;AACA;AACA;AAxCF,GADD,CA6CA,C,0BAhGwCZ,S,SAArBE,Y","sourcesContent":["import React, { Component } from 'react';\nimport UploadService from '../services/file-upload.service';\n\nexport default class UploadImages extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.selectFile = this.selectFile.bind(this);\n\t\tthis.upload = this.upload.bind(this);\n\n\t\tthis.state = {\n\t\t\tcurrentFile: undefined,\n\t\t\tpreviewImage: undefined,\n\t\t\tprogress: 0,\n\t\t\tmessage: '',\n\t\t};\n\t}\n\n\tselectFile(event) {\n\t\tthis.setState({\n\t\t\tcurrentFile: event.target.files[0],\n\t\t\tpreviewImage: URL.createObjectURL(event.target.files[0]),\n\t\t\tprogress: 0,\n\t\t\tmessage: '',\n\t\t});\n\t}\n\n\tupload() {\n\t\tthis.setState({\n\t\t\tprogress: 0,\n\t\t});\n\n\t\tUploadService.upload(this.state.currentFile, (event) => {\n\t\t\tthis.setState({\n\t\t\t\tprogress: Math.round((100 * event.loaded) / event.total),\n\t\t\t});\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tmessage: `<b>Image uploded ! Please visit </b></br> <a href='${response.data.data}' target=\"_blank\">${response.data.data}</a>`,\n\t\t\t\t});\n\t\t\t})\n\n\t\t\t.catch((err) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tprogress: 0,\n\t\t\t\t\tmessage: 'Could not upload the image! due to ' + err,\n\t\t\t\t\t// currentFile: undefined,\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\trender() {\n\t\tconst { currentFile, previewImage, progress, message } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-8'>\n\t\t\t\t\t\t<label className='btn btn-default p-0'>\n\t\t\t\t\t\t\t<input type='file' accept='image/*' onChange={this.selectFile} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='col-4'>\n\t\t\t\t\t\t<button className='btn btn-success btn-sm' onClick={this.upload}>\n\t\t\t\t\t\t\tUpload\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{currentFile && (\n\t\t\t\t\t<div className='progress my-3'>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='progress-bar progress-bar-info progress-bar-striped'\n\t\t\t\t\t\t\trole='progressbar'\n\t\t\t\t\t\t\taria-valuenow={progress}\n\t\t\t\t\t\t\taria-valuemin='0'\n\t\t\t\t\t\t\taria-valuemax='100'\n\t\t\t\t\t\t\tstyle={{ width: progress + '%' }}>\n\t\t\t\t\t\t\t{progress}%\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{previewImage && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img className='preview' src={previewImage} alt='' />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{message && (\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: message }} />\n\t\t\t\t\t// <div className='alert alert-secondary mt-3' role='alert'>\n\t\t\t\t\t// \tdangerouslySetInnerHTML={{ __html: message }}\n\t\t\t\t\t// \t{/* {message} */}\n\t\t\t\t\t// </div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}