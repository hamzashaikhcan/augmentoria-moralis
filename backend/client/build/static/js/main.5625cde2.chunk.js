(this["webpackJsonpreact-image-upload-preview"]=this["webpackJsonpreact-image-upload-preview"]||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(2),r=a.n(n),c=a(17),i=a.n(c),o=(a(25),a(26),a(27),a(4)),l=a(5),d=a(3),u=a(19),p=a(18),b=a(6),j=a.n(b),h=(j.a.create({baseURL:"http://localhost:8080",headers:{"Content-type":"application/json"}}),new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"upload",value:function(e,t){console.log("CURRENT FILE => ",e);var a=new FormData;a.append("image",e);return j.a.post("http://localhost:9001/api/images/",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}}]),e}())),g=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).selectFile=s.selectFile.bind(Object(d.a)(s)),s.upload=s.upload.bind(Object(d.a)(s)),s.state={currentFile:void 0,previewImage:void 0,progress:0,message:""},s}return Object(l.a)(a,[{key:"selectFile",value:function(e){this.setState({currentFile:e.target.files[0],previewImage:URL.createObjectURL(e.target.files[0]),progress:0,message:""})}},{key:"upload",value:function(){var e=this;this.setState({progress:0}),h.upload(this.state.currentFile,(function(t){e.setState({progress:Math.round(100*t.loaded/t.total)})})).then((function(t){e.setState({message:"<b>Image uploded ! Please visit </b></br> <a href='".concat(t.data.data,'\' target="_blank">').concat(t.data.data,"</a>")})})).catch((function(t){e.setState({progress:0,message:"Could not upload the image! due to "+t})}))}},{key:"render",value:function(){var e=this.state,t=e.currentFile,a=e.previewImage,n=e.progress,r=e.message;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-8",children:Object(s.jsx)("label",{className:"btn btn-default p-0",children:Object(s.jsx)("input",{type:"file",accept:"image/*",onChange:this.selectFile})})}),Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)("button",{className:"btn btn-success btn-sm",onClick:this.upload,children:"Upload"})})]}),t&&Object(s.jsx)("div",{className:"progress my-3",children:Object(s.jsxs)("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",style:{width:n+"%"},children:[n,"%"]})}),a&&Object(s.jsx)("div",{children:Object(s.jsx)("img",{className:"preview",src:a,alt:""})}),r&&Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})]})}}]),a}(n.Component);var m=function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h4",{children:"React Image Upload to Moralis"}),Object(s.jsx)("div",{className:"content",children:Object(s.jsx)(g,{})})]})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,48)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(m,{})}),document.getElementById("root")),v()}},[[47,1,2]]]);
//# sourceMappingURL=main.5625cde2.chunk.js.map